<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Инструкция</title>
<style>
body {
	background-color: #333333;
	padding: 0% 10%;
	font-size: 18px;
}
h1 {
	font-size: 28px;
}
h2 {
	font-size: 24px;
}
pre {
	color: #334152;
	font-size: 12px;
	font-weight: normal;
	border-left: 3px solid #334152;
	background-color: #D5EDFF;
	overflow: auto;
	padding-left: 8px;
	padding-right: 8px;
	padding-bottom: 5px;
	padding-top: 5px;
	margin-left: 8px;
}
table {
	font-size: 18px;
	font-weight: normal;
	border: 1px solid #000000;
	border-collapse: collapse;
	padding: 5px;
}
tr {
	border: 1px solid #000000;
}
th {
	border: 1px solid #000000;
	font-weight: bold;
	font-size: 20px;
	padding: 5px;
}
td {
	border: 1px solid #000000;
	padding: 5px;
}
tt {
	border: 1px solid #CCCCCC;
	padding: 1px;
	background-color: #FFFFFF;
	color: #444466;
}
.main {
	background-color: #EEEEEE;
	padding: 1%;
}
</style>
</head>
<body>
	<div class="main">
		<h1>ePN CMS</h1>
		<hr align="left" />
		<h2>Оглавление документа</h2>
		<ul>
			<li><a href="#requirements">Требования к хостингу</a></li>
			<li><a href="#install">Установка сайта</a></li>
			<li><a href="#cache">Расширенные настройки: Кэширование</a></li>
			<li><a href="#developers">Дополнительная информация для разработчиков</a></li>
			<li><a href="#faq">Частые вопросы</a></li>
		</ul>
		<h2 id="requirements">Требования к хостингу</h2>
		<p>Для нормальной работы сайта требуется хостинг с обязательной поддержкой:</p>
		<ul>
			<li>обработки файла .htaccess и включенным mod_rewrite;</li>
			<li>PHP версии 5.2 и выше;</li>
		</ul>
		<p>Опциально могут присутствовать:</p>
		<ul>
			<li>MySQL версии 5.0 и выше (для использования в качестве кэша данных);</li>
			<li>memcached и соответствующие php модули (для использования в качестве кэша данных);</li>
			<li>PHP-расширение xcache (для использования в качестве кэша данных и ускорения работы скриптов);</li>
			<li>PHP-расширение apc (для использования в качестве кэша данных и ускорения работы скриптов);</li>
			<li>PHP-расширение wincache (для использования в качестве кэша данных и ускорения работы скриптов);</li>
		</ul>
		<p>Абсолютное большинство популярных хостингов подходит под эти требования, но всё-таки желательно убедиться. Если хостинг не соответствует заявленным требованиям, сайт может работать неправильно или не работать вовсе.</p>
		
		<h2 id="install">Установка сайта</h2>
		<ol>
			<li>Распаковать все файлы из архива в корневую директорию вашего сайта.</li>
			<li>Переименовать файл config.php_dist в config.php.</li>
			<li>В файле &quot;config.php&quot; указать ключ для доступа к API, который нужно взять в личном кабинете в своём <a href="https://epn.bz/cabinet/#/profile/">профиле</a>. Пример указания:<br />
				<tt>'user_api_key' => '7e6669f3369xyz0f1d1b9e1f3e26919d',</tt>
			</li>
			<li>Указать в файле &quot;config.php&quot; хэш для построения диплинков, который нужно взять в личном кабинете партнёрской программы в разделе &laquo;<a href="https://epn.bz/cabinet/#/creative/tab/list">Мои креативы</a>&raquo;. Пример указания:<br />
				<tt>'user_deep_link_hash' => '18a775d88a5xyz06b6c3cd8fd10e3d82',</tt>
			</li>
			<li>Дополнительно можно в том же файле указать желаемые диапазоны цен и число результатов на странице. Это позволит сделать ваш сайт отличным от других сайтов на движке ePN CMS.</li>
			<li>Кроме того, можно указать язык (поддерживаются русский и английский) и валюту (поддерживаются RUR, USD, EUR, BYR, UAH, KZT).</li>
			<li>Рекомендуется также настроить кэширование обращений к API любым доступным способом (см. следующий раздел).</li>
		</ol>
		<p>На этом установка сайта заканчивается и можно начинать привлекать посетителей ;)</p>
		<p>Важно отметить, что команда ePN оставляет за собой право ограничить доступ к ePN API в случае различных злоупотреблений.</p>
		<h2 id="cache">Расширенные настройки: Кэширование</h2>
		<p>В ePN CMS присутствует поддержка кэширования результатов обращения к API для ускорения работы сайта и снижения нагрузки на сервера ePN. По умолчанию кэширование отключено, так как на дешёвых хостингах оно не поддерживается.</p>
		<p>Если ваш хостинг поддерживает одну из перечисленных ниже технологий или вы разворачиваете CMS на собственном сервере и можете установить дополнительное программное обеспечение, то рекомендуется использовать кэширование.</p>
		<p>За кэширование отвечает параметр 'cache_library' в файле настроек, и он может принимать одно из следующих значений:</p>
		<ul>
			<li><b>none</b> - кэширование отключено;</li>
			<li><b>apc</b> - кэширование в APC User Cache (требуется PHP-расширение APC);</li>
			<li><b>xcache</b> - кэширование в XCache (требуется PHP-расширение XCache);</li>
			<li><b>wincache</b> - кэширование в WinCache. Экспериментальная возможнось! (требуется PHP-расширение WinCache);</li>
			<li><b>memcache</b> - кэширование в memcached, используя библиотеку pecl-memcache;</li>
			<li><b>memcached</b> - кэширование в memcached, используя библиотеку pecl-memcached;</li>
			<li><b>mysql</b> - кэширование в MySQL, используя библиотеку mysqli;</li>
		</ul>
		<p>При кэшировании данных в memcached (независимо от используемой библиотеки) необходимо настроить дополнительные параметры:</p>
		<ul>
			<li><b>memcached_host</b> - IP-адрес или домен, на котором работает memcached;</li>
			<li><b>memcached_port</b> - номер tcp-порта, на котором работает memcached;</li>
			<li><b>memcached_pconnect</b> - использовать &quot;устойчивые&quot; соединения с memcached (TRUE) или нет (FALSE). Рекомендуется оставить включенным и выключать, только если во включенном состоянии возникают какие-либо проблемы;</li>
		</ul>
		<p>При кэшировании данных в MySQL необходимо настроить дополнительные параметры:</p>
		<ul>
			<li><b>mysql_host</b> - IP-адрес или домен, на котором работает MySQL;</li>
			<li><b>mysql_user</b> - имя пользователя MySQL;</li>
			<li><b>mysql_pass</b> - пароль пользователя MySQL;</li>
			<li><b>mysql_base</b> - имя используемой базы данные;</li>
			<li><b>mysql_persist</b> - использовать &quot;устойчивые&quot; соединения с MySQL (TRUE) или нет (FALSE). Рекомендуется включить и выключать только если во включенном состоянии возникают какие-либо проблемы;</li>
		</ul>
		<h2 id="developers">Дополнительная информация для разработчиков</h2>
		<p>Мы не накладываем каких-либо ограничений на модификацию предлагаемого кода. Вы можете вносить любые правки, единственным требованием является отсутствие нарушений правил партнёрской программы.</p>
		<p>Базовые библиотеки расположены в поддиректории &quot;libs&quot;, а шаблоны - в &quot;templates&quot;. Шаблонизатор не используется и шаблоны представляют собой по сути обычные PHP-скрипты со всем, что из этого следует.</p>
		<p>Сайт свёрстан с использованием bootstrap.css. Соответственно при внесении правок рекомендуется придерживаться гайдлайнов bootstrap.css.</p>
		<p>Все пожелания и замечания вы можете смело отправлять в службу технической поддержки партнёрской программы. Мы надеемся на долговременное и плодотворное сотрудничество.</p>
		<h2 id="faq">Частые вопросы</h2>
		<p>
			<b>Вопрос: Можно ли вносить модификации в код CMS?</b><br />
			Ответ: Конечно. Если вы можете сделать лучше то мы будем только рады.
			</p>
		<p>
			<b>Вопрос: Я хочу установить CMS не в корневой каталог сайта, а в поддиректорию. Как это сделать?</b><br />
			Ответ: Мы не поддерживаем подобные инсталляции. Вы можете самостоятельно внести модификации в код CMS, но мы не даём никаких рекоммендаций.
		</p>
		<p>
			<b>Вопрос: я бы хотел видеть в CMS функцию XXX. Вы можете её добавить?</b><br />
			Ответ: Вы можете написать об этом в техподдержку. Но мы не можем обещать что добавим желаемый вами функционал. Кроме того вы можете самостоятельно модифицировать код CMS для добавления нужного вам функционала.
		</p>
	<p><i>С уважением, Команда <a href="https://www.epn.bz">e-Commerce Partners Network.</a></i></p>
	</div>
</body>
</html>